"use strict";(self["webpackChunkgymadmin"]=self["webpackChunkgymadmin"]||[]).push([[443],{981:function(t,e,n){n.r(e),n.d(e,{default:function(){return j}});var a=n(252),s=n(577);const i=t=>((0,a.dD)("data-v-95888ce2"),t=t(),(0,a.Cn)(),t),o={class:"title"},d=i((()=>(0,a._)("br",null,null,-1))),l=i((()=>(0,a._)("span",{class:"title__name"},"skultes",-1))),r=i((()=>(0,a._)("br",null,null,-1))),u=i((()=>(0,a._)("span",{class:"title__gym"},"gym",-1))),p={key:1};function c(t,e,n,i,c,h){const m=(0,a.up)("LoadingSpinner"),g=(0,a.up)("AppointmentList"),_=(0,a.up)("InputForm"),y=(0,a.up)("Cart");return(0,a.wg)(),(0,a.iD)("div",{class:(0,s.C_)(["admin",{hidden:this.$store.getters.loadingStatus}])},[(0,a._)("button",{onClick:e[0]||(e[0]=(...t)=>h.logout&&h.logout(...t)),class:(0,s.C_)(["sign-out",{hidden:this.$store.getters.loadingStatus}])},"×",2),(0,a._)("h1",o,[(0,a._)("span",{class:(0,s.C_)(["title__admin",{hidden:this.$store.getters.loadingStatus}])},"admin",2),d,l,r,u]),this.$store.getters.loadingStatus?((0,a.wg)(),(0,a.j4)(m,{key:0})):((0,a.wg)(),(0,a.iD)("div",p,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(this.availableDates,((t,e)=>((0,a.wg)(),(0,a.j4)(g,{appointments:h.todaysAppointments(e),date:t.date_short,day:t.day_text},null,8,["appointments","date","day"])))),256)),(0,a.Wm)(_),this.$store.getters.cart.length>0?((0,a.wg)(),(0,a.j4)(y,{key:0,payment:!1})):(0,a.kq)("",!0)]))],2)}const h={class:"appointment-list"},m={class:"appointment"},g=["href"],_={key:1},y=(0,a._)("div",{class:"no-appointment"},[(0,a._)("span",null,"Nav pieteikumu")],-1),w=[y];function D(t,e,n,i,o,d){return(0,a.wg)(),(0,a.iD)("div",h,[(0,a._)("h4",null,[(0,a._)("span",null,(0,s.zw)(n.date),1),(0,a._)("span",null,(0,s.zw)(n.day),1)]),n.appointments.length>0?((0,a.wg)(!0),(0,a.iD)(a.HY,{key:0},(0,a.Ko)(n.appointments,(t=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",m,[(0,a._)("span",null,(0,s.zw)(this.timeSlots[t.start_index]+" - "+this.timeSlots[t.end_index]),1),(0,a._)("span",null,[(0,a._)("a",{class:"call",href:"tel:"+t.phone},(0,s.zw)(t.name),9,g)])])])))),256)):((0,a.wg)(),(0,a.iD)("div",_,w))])}var v={name:"AppointmentList",data(){return{timeSlots:{0:"06:30",1:"06:45",2:"07:00",3:"07:15",4:"07:30",5:"07:45",6:"08:00",7:"08:15",8:"08:30",9:"08:45",10:"09:00",11:"09:15",12:"09:30",13:"09:45",14:"10:00",15:"10:15",16:"10:30",17:"10:45",18:"11:00",19:"11:15",20:"11:30",21:"11:45",22:"12:00",23:"12:15",24:"12:30",25:"12:45",26:"13:00",27:"13:15",28:"13:30",29:"13:45",30:"14:00",31:"14:15",32:"14:30",33:"14:45",34:"15:00",35:"15:15",36:"15:30",37:"15:45",38:"16:00",39:"16:15",40:"16:30",41:"16:45",42:"17:00",43:"17:15",44:"17:30",45:"17:45",46:"18:00",47:"18:15",48:"18:30",49:"18:45",50:"19:00",51:"19:15",52:"19:30",53:"19:45",54:"20:00",55:"20:15",56:"20:30",57:"20:45",58:"21:00",59:"21:15",60:"21:30",61:"21:45",62:"22:00",63:"22:15",64:"22:30",65:"22:45",66:"23:00",67:"23:15",68:"23:30",69:"23:45",70:"00:00"}}},props:["appointments","day","date"]},S=n(744);const k=(0,S.Z)(v,[["render",D]]);var f=k,$=n(147),C=n(425),b=n(614),A=(n(77),n(669)),L=(n(100),{name:"HomeView",components:{AppointmentList:f,LoadingSpinner:C.Z,InputForm:$.Z,Cart:b.Z},data(){return{auth:null,date:"",day:"",dayDict:{Monday:"Pirmdien",Tuesday:"Otrdien",Wednesday:"Trešdien",Thursday:"Ceturtdien",Friday:"Piektdien",Saturday:"Sestdien",Sunday:"Svētdien"}}},mounted(){this.auth=(0,A.v0)(),(0,A.Aj)(this.auth,(t=>{t||this.$router.push("/login")})),console.log("bang"),this.$store.dispatch("fetchAppointments")},methods:{todaysAppointments(t){const e=[];for(const n of this.$store.getters.allAppointments)this.availableDates[t].value==n.date&&e.push(n);return e},logout(){this.$store.dispatch("setLoadingStatus",!0),setTimeout((()=>{(0,A.w7)(this.auth)}),1500)}},computed:{availableDates(){const t=new Date,e=new Date(t),n=t.getDay(),a=0===n?6:n-1;e.setDate(t.getDate()-a);const s=[];for(let i=0;i<7;i++){const t=new Date(e);t.setDate(e.getDate()+i);const n=t.toLocaleString("en-US",{weekday:"long"}),a=t.toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}),[o,d,l]=a.split("/"),r=parseInt(l+o+d),u=l+"-"+o+"-"+d,p=`${d}.${o}`;s.push({day_text:this.dayDict[n],date_short:p,date:u,value:r})}return s}}});const Z=(0,S.Z)(L,[["render",c],["__scopeId","data-v-95888ce2"]]);var j=Z}}]);
//# sourceMappingURL=about.4ee417a5.js.map